package {{packageName}}.controller;

import club.itbus.core.model.Response;
import club.itbus.core.model.JsonResponseException;
import {{packageName}}.model.{{modelName}};
import {{packageName}}.service.{{modelName}}WriteService;

import lombok.extern.slf4j.Slf4j;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.http.MediaType;
import org.springframework.stereotype.Controller;
import org.springframework.web.bind.annotation.RequestBody;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RequestMethod;
import org.springframework.web.bind.annotation.ResponseBody;
/**
 * Desc:
 * Author:
 * Date: {{createdAt}}
 */
@Slf4j
@Controller
@RequestMapping
public class {{controllerName}} {

    @Autowired
    private {{modelName}}WriteService {{LowerCase modelName}}WriteService;

    /**
     * 创建
     * @param
     */
    @RequestMapping(value = "", method = RequestMethod.POST, produces = MediaType.APPLICATION_JSON_VALUE)
    @ResponseBody
    public Boolean create(@RequestBody {{modelName}} {{LowerCase modelName}}) {
        Response<Boolean> response = {{LowerCase modelName}}WriteService.create({{LowerCase modelName}});
        if (!response.isSuccess()) {
            throw new JsonResponseException(500, response.getError());
        }
        return response.getResult();
    }

    /**
     * 更新
     * @param
     */
    @RequestMapping(value = "", method = RequestMethod.PUT, produces = MediaType.APPLICATION_JSON_VALUE)
    @ResponseBody
    public Boolean update(@RequestBody {{modelName}} {{LowerCase modelName}}) {
        Response<Boolean> response = {{LowerCase modelName}}WriteService.update({{LowerCase modelName}});
        if (!response.isSuccess()) {
            throw new JsonResponseException(500, response.getError());
        }
        return response.getResult();
    }
}